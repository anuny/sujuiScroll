(function(a){a.fn.extend({sujuiScroll:function(b){var m=window,C=m.document,D=C.title,c=m.location.hash,d="html,body",o="ul",n="li",B="a",s="[",f="]",t=">",A="=",z="-",y="#/",l="",j=a(this),e=j.find(o+t+n+t+B),h="data-nav",i="data-page",x=b.hasOwnProperty("navHeight")?b.navHeight:null||50,u=b.hasOwnProperty("speed")?b.speed:null||1000,r="current",q="fix";e.bind("click",function(){var E=a(this),w=E.attr(h),F=a(v(w));k(F);return false});a(m).bind("scroll",function(){var E=a(m).scrollTop(),J=j.find(o+t+n).first().find(B),I=J.attr(h),H=a(v(I)),G=H.offset().top,F=H.height(),w=G+F;if(E>=w){g.fix()}else{g.noneFix()}e.each(function(Q){var K=a(this),M=K.parent(n),L=K.attr(h),N=a(v(L)),O=N.offset().top,P=N.height()/2,R=O-x,S=O+x;if(E>=R&&E<=S){g.addCurrent(K);g.setInfo(K)}})});var g={fix:function(){j.addClass(q)},noneFix:function(){j.removeClass(q)},addCurrent:function(w){var E=w.parent(n).siblings(n).find(B);E.removeClass(r);w.addClass(r)},setInfo:function(w){var F=w.text(),E=w.attr(h);m.location.hash=y+E;C.title=F+z+D}};function k(E){var w=E.offset().top;a(d).animate({scrollTop:w-x},u)}function v(w){var E=s+i+A+w+f;return E}function p(){if(c.length>0){var w=c.replace(y,l),F=a(v(w)),E=F.offset().top;a(d).scrollTop(E)}}p()}})})(jQuery);
